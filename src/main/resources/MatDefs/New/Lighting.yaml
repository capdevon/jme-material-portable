---
MaterialDef: 
  name: "Phong Lighting"
  MaterialParameters: 
  - type: "Float"
    name: "ExpSqFog"
  - type: "Boolean"
    name: "SeparateTexCoord"
  - type: "Vector3"
    name: "LightPos"
  - type: "Boolean"
    name: "VertexLighting"
  - type: "Texture2D"
    name: "DiffuseMap"
  - type: "Float"
    name: "ExpFog"
  - type: "Texture2D"
    name: "SpecularMap"
  - type: "Texture2D"
    name: "GlowMap"
  - type: "Float"
    name: "NormalType"
  - type: "Float"
    name: "ShadowIntensity"
  - type: "Boolean"
    name: "BackfaceShadows"
    value: "false"
  - type: "Boolean"
    name: "EnvMapAsSphereMap"
  - type: "Boolean"
    name: "SteepParallax"
  - type: "Matrix4"
    name: "LightViewProjectionMatrix1"
  - type: "FloatArray"
    name: "MorphWeights"
  - type: "Float"
    name: "AlphaDiscardThreshold"
  - type: "Matrix4"
    name: "LightViewProjectionMatrix2"
  - type: "Vector3"
    name: "FresnelParams"
  - type: "Texture2D"
    name: "ParallaxMap"
    colorSpace: "Linear"
  - type: "Matrix4"
    name: "LightViewProjectionMatrix0"
  - type: "Boolean"
    name: "HardwareShadows"
  - type: "Matrix4"
    name: "LightViewProjectionMatrix5"
  - type: "Matrix4"
    name: "LightViewProjectionMatrix3"
  - type: "Matrix4"
    name: "LightViewProjectionMatrix4"
  - type: "Matrix4Array"
    name: "BoneMatrices"
  - type: "Int"
    name: "NumberOfBones"
  - type: "Texture2D"
    name: "ShadowMap5"
  - type: "Texture2D"
    name: "ShadowMap4"
  - type: "Vector4"
    name: "Splits"
  - type: "Vector2"
    name: "LinearFog"
  - type: "Boolean"
    name: "UseInstancing"
  - type: "TextureCubeMap"
    name: "EnvMap"
  - type: "Texture2D"
    name: "ShadowMap1"
  - type: "Texture2D"
    name: "ShadowMap0"
  - type: "Vector3"
    name: "LightDir"
  - type: "Texture2D"
    name: "ShadowMap3"
  - type: "Texture2D"
    name: "ShadowMap2"
  - type: "Vector2"
    name: "FadeInfo"
  - type: "Boolean"
    name: "UseMaterialColors"
  - type: "Float"
    name: "PCFEdge"
  - type: "Float"
    name: "ParallaxHeight"
    value: "0.05"
  - type: "Boolean"
    name: "UseFog"
  - type: "Texture2D"
    name: "NormalMap"
    colorSpace: "Linear"
  - type: "Boolean"
    name: "PackedNormalParallax"
  - type: "Boolean"
    name: "UseVertexColor"
  - type: "Vector4"
    name: "Specular"
  - type: "Vector4"
    name: "Diffuse"
  - type: "Int"
    name: "NumberOfMorphTargets"
  - type: "Int"
    name: "FilterMode"
  - type: "Vector4"
    name: "FogColor"
  - type: "Texture2D"
    name: "AlphaMap"
    colorSpace: "Linear"
  - type: "Float"
    name: "Shininess"
    value: "1"
  - type: "Float"
    name: "ShadowMapSize"
  - type: "Vector4"
    name: "Ambient"
  - type: "Vector4"
    name: "GlowColor"
  - type: "Texture2D"
    name: "ColorRamp"
  - type: "Int"
    name: "NumberOfTargetsBuffers"
  - type: "Texture2D"
    name: "LightMap"
  - type: "Int"
    name: "BoundDrawBuffer"
  Techniques: 
  - name: "PostShadow"
    FragmentShader: "Common/MatDefs/Shadow/PostShadow.frag"
    VertexShader: "Common/MatDefs/Shadow/PostShadow.vert"
    ShaderLanguages: ["GLSL310", "GLSL300", "GLSL150", "GLSL100"]
    WorldParameters: 
    - "WorldViewProjectionMatrix"
    - "WorldMatrix"
    - "ViewProjectionMatrix"
    - "ViewMatrix"
    - "NormalMatrix"
    Defines: 
      BOUND_DRAW_BUFFER: "BoundDrawBuffer"
      HARDWARE_SHADOWS: "HardwareShadows"
      FILTER_MODE: "FilterMode"
      PCFEDGE: "PCFEdge"
      DISCARD_ALPHA: "AlphaDiscardThreshold"
      SHADOWMAP_SIZE: "ShadowMapSize"
      FADE: "FadeInfo"
      PSSM: "Splits"
      POINTLIGHT: "LightViewProjectionMatrix5"
      NUM_BONES: "NumberOfBones"
      INSTANCING: "UseInstancing"
      BACKFACE_SHADOWS: "BackfaceShadows"
      NUM_MORPH_TARGETS: "NumberOfMorphTargets"
      NUM_TARGETS_BUFFERS: "NumberOfTargetsBuffers"
    ForcedRenderState: 
      Blend: "Modulate"
      DepthWrite: "false"
      PolyOffset: [-0.1, 0]
  - name: "PreShadow"
    FragmentShader: "Common/MatDefs/Shadow/PreShadow.frag"
    VertexShader: "Common/MatDefs/Shadow/PreShadow.vert"
    ShaderLanguages: ["GLSL310", "GLSL300", "GLSL150", "GLSL100"]
    WorldParameters: 
    - "WorldViewProjectionMatrix"
    - "WorldViewMatrix"
    - "ViewProjectionMatrix"
    - "ViewMatrix"
    Defines: 
      BOUND_DRAW_BUFFER: "BoundDrawBuffer"
      DISCARD_ALPHA: "AlphaDiscardThreshold"
      NUM_BONES: "NumberOfBones"
      INSTANCING: "UseInstancing"
      NUM_MORPH_TARGETS: "NumberOfMorphTargets"
      NUM_TARGETS_BUFFERS: "NumberOfTargetsBuffers"
    ForcedRenderState: 
      FaceCull: "Off"
      ColorWrite: "false"
      PolyOffset: [5, 3]
  - name: "PreNormalPass"
    FragmentShader: "Common/MatDefs/SSAO/normal.frag"
    VertexShader: "Common/MatDefs/SSAO/normal.vert"
    ShaderLanguages: ["GLSL310", "GLSL300", "GLSL150", "GLSL100"]
    WorldParameters: 
    - "WorldViewProjectionMatrix"
    - "WorldViewMatrix"
    - "NormalMatrix"
    - "ViewProjectionMatrix"
    - "ViewMatrix"
    Defines: 
      BOUND_DRAW_BUFFER: "BoundDrawBuffer"
      DIFFUSEMAP_ALPHA: "DiffuseMap"
      NUM_BONES: "NumberOfBones"
      INSTANCING: "UseInstancing"
      NUM_MORPH_TARGETS: "NumberOfMorphTargets"
      NUM_TARGETS_BUFFERS: "NumberOfTargetsBuffers"
  - name: "Glow"
    FragmentShader: "Common/MatDefs/Light/Glow.frag"
    VertexShader: "Common/MatDefs/Misc/Unshaded.vert"
    ShaderLanguages: ["GLSL310", "GLSL300", "GLSL150", "GLSL100"]
    WorldParameters: 
    - "WorldViewProjectionMatrix"
    - "ViewProjectionMatrix"
    - "ViewMatrix"
    Defines: 
      BOUND_DRAW_BUFFER: "BoundDrawBuffer"
      HAS_GLOWMAP: "GlowMap"
      HAS_GLOWCOLOR: "GlowColor"
      NUM_BONES: "NumberOfBones"
      INSTANCING: "UseInstancing"
      NUM_MORPH_TARGETS: "NumberOfMorphTargets"
      NUM_TARGETS_BUFFERS: "NumberOfTargetsBuffers"
  - name: "Default"
    FragmentShader: "Common/MatDefs/Light/SPLighting.frag"
    VertexShader: "Common/MatDefs/Light/SPLighting.vert"
    ShaderLanguages: ["GLSL310", "GLSL300", "GLSL150", "GLSL100"]
    LightMode: "SinglePass"
    WorldParameters: 
    - "WorldViewProjectionMatrix"
    - "NormalMatrix"
    - "WorldViewMatrix"
    - "ViewMatrix"
    - "CameraPosition"
    - "WorldMatrix"
    - "ViewProjectionMatrix"
    Defines: 
      BOUND_DRAW_BUFFER: "BoundDrawBuffer"
      VERTEX_COLOR: "UseVertexColor"
      VERTEX_LIGHTING: "VertexLighting"
      MATERIAL_COLORS: "UseMaterialColors"
      DIFFUSEMAP: "DiffuseMap"
      NORMALMAP: "NormalMap"
      SPECULARMAP: "SpecularMap"
      PARALLAXMAP: "ParallaxMap"
      NORMALMAP_PARALLAX: "PackedNormalParallax"
      STEEP_PARALLAX: "SteepParallax"
      ALPHAMAP: "AlphaMap"
      COLORRAMP: "ColorRamp"
      LIGHTMAP: "LightMap"
      SEPARATE_TEXCOORD: "SeparateTexCoord"
      DISCARD_ALPHA: "AlphaDiscardThreshold"
      USE_REFLECTION: "EnvMap"
      SPHERE_MAP: "EnvMapAsSphereMap"
      NUM_BONES: "NumberOfBones"
      INSTANCING: "UseInstancing"
      NUM_MORPH_TARGETS: "NumberOfMorphTargets"
      NUM_TARGETS_BUFFERS: "NumberOfTargetsBuffers"
      NORMAL_TYPE: "NormalType"
      USE_FOG: "UseFog"
      FOG_LINEAR: "LinearFog"
      FOG_EXP: "ExpFog"
      FOG_EXPSQ: "ExpSqFog"
  - name: "Default"
    FragmentShader: "Common/MatDefs/Light/Lighting.frag"
    VertexShader: "Common/MatDefs/Light/Lighting.vert"
    ShaderLanguages: ["GLSL310", "GLSL300", "GLSL150", "GLSL100"]
    LightMode: "MultiPass"
    WorldParameters: 
    - "WorldViewProjectionMatrix"
    - "NormalMatrix"
    - "WorldViewMatrix"
    - "ViewMatrix"
    - "CameraPosition"
    - "WorldMatrix"
    - "ViewProjectionMatrix"
    Defines: 
      BOUND_DRAW_BUFFER: "BoundDrawBuffer"
      VERTEX_COLOR: "UseVertexColor"
      VERTEX_LIGHTING: "VertexLighting"
      MATERIAL_COLORS: "UseMaterialColors"
      DIFFUSEMAP: "DiffuseMap"
      NORMALMAP: "NormalMap"
      SPECULARMAP: "SpecularMap"
      PARALLAXMAP: "ParallaxMap"
      NORMALMAP_PARALLAX: "PackedNormalParallax"
      STEEP_PARALLAX: "SteepParallax"
      ALPHAMAP: "AlphaMap"
      COLORRAMP: "ColorRamp"
      LIGHTMAP: "LightMap"
      SEPARATE_TEXCOORD: "SeparateTexCoord"
      DISCARD_ALPHA: "AlphaDiscardThreshold"
      USE_REFLECTION: "EnvMap"
      SPHERE_MAP: "EnvMapAsSphereMap"
      NUM_BONES: "NumberOfBones"
      INSTANCING: "UseInstancing"
      NUM_MORPH_TARGETS: "NumberOfMorphTargets"
      NUM_TARGETS_BUFFERS: "NumberOfTargetsBuffers"
      NORMAL_TYPE: "NormalType"
      USE_FOG: "UseFog"
      FOG_LINEAR: "LinearFog"
      FOG_EXP: "ExpFog"
      FOG_EXPSQ: "ExpSqFog"