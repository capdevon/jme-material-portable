{
   "materialDef":{
      "name":"PBR Lighting",
      "materialParameters":[
         {
            "type":"Boolean",
            "name":"SeparateTexCoord"
         },
         {
            "type":"Boolean",
            "name":"UseSpecularAA",
            "value":true
         },
         {
            "type":"Boolean",
            "name":"BackfaceShadows",
            "value":false
         },
         {
            "type":"Boolean",
            "name":"UseSpecGloss"
         },
         {
            "type":"Boolean",
            "name":"SteepParallax"
         },
         {
            "type":"Boolean",
            "name":"HardwareShadows"
         },
         {
            "type":"Boolean",
            "name":"HorizonFade"
         },
         {
            "type":"Boolean",
            "name":"UseInstancing"
         },
         {
            "type":"Boolean",
            "name":"AoPackedInMRMap"
         },
         {
            "type":"Boolean",
            "name":"PackedNormalParallax"
         },
         {
            "type":"Boolean",
            "name":"UseVertexColor"
         },
         {
            "type":"Boolean",
            "name":"LightMapAsAOMap"
         },
         {
            "type":"Float",
            "name":"Roughness",
            "value":1
         },
         {
            "type":"Float",
            "name":"Glossiness",
            "value":1
         },
         {
            "type":"Float",
            "name":"NormalType",
            "value":-1
         },
         {
            "type":"Float",
            "name":"ShadowIntensity"
         },
         {
            "type":"Float",
            "name":"EmissivePower",
            "value":3
         },
         {
            "type":"Float",
            "name":"NormalScale"
         },
         {
            "type":"Float",
            "name":"EmissiveIntensity",
            "value":2
         },
         {
            "type":"Float",
            "name":"Metallic",
            "value":1
         },
         {
            "type":"Float",
            "name":"AlphaDiscardThreshold"
         },
         {
            "type":"Float",
            "name":"SpecularAAKappa"
         },
         {
            "type":"Float",
            "name":"SpecularAASigma"
         },
         {
            "type":"Float",
            "name":"PCFEdge"
         },
         {
            "type":"Float",
            "name":"ParallaxHeight",
            "value":0.05
         },
         {
            "type":"Float",
            "name":"AoStrength"
         },
         {
            "type":"Float",
            "name":"ShadowMapSize"
         },
         {
            "type":"FloatArray",
            "name":"MorphWeights"
         },
         {
            "type":"Int",
            "name":"NumberOfBones"
         },
         {
            "type":"Int",
            "name":"NumberOfMorphTargets"
         },
         {
            "type":"Int",
            "name":"FilterMode"
         },
         {
            "type":"Int",
            "name":"NumberOfTargetsBuffers"
         },
         {
            "type":"Int",
            "name":"BoundDrawBuffer"
         },
         {
            "type":"Matrix4",
            "name":"LightViewProjectionMatrix0"
         },
         {
            "type":"Matrix4",
            "name":"LightViewProjectionMatrix1"
         },
         {
            "type":"Matrix4",
            "name":"LightViewProjectionMatrix2"
         },
         {
            "type":"Matrix4",
            "name":"LightViewProjectionMatrix3"
         },
         {
            "type":"Matrix4",
            "name":"LightViewProjectionMatrix4"
         },
         {
            "type":"Matrix4",
            "name":"LightViewProjectionMatrix5"
         },
         {
            "type":"Matrix4Array",
            "name":"BoneMatrices"
         },
         {
            "type":"Texture2D",
            "name":"EmissiveMap"
         },
         {
            "type":"Texture2D",
            "name":"SpecularMap"
         },
         {
            "type":"Texture2D",
            "name":"SpecularGlossinessMap"
         },
         {
            "type":"Texture2D",
            "name":"MetallicRoughnessMap",
            "colorSpace":"Linear"
         },
         {
            "type":"Texture2D",
            "name":"ParallaxMap",
            "colorSpace":"Linear"
         },
         {
            "type":"Texture2D",
            "name":"RoughnessMap",
            "colorSpace":"Linear"
         },
         {
            "type":"Texture2D",
            "name":"GlossinessMap"
         },
         {
            "type":"Texture2D",
            "name":"ShadowMap5"
         },
         {
            "type":"Texture2D",
            "name":"ShadowMap4"
         },
         {
            "type":"Texture2D",
            "name":"ShadowMap1"
         },
         {
            "type":"Texture2D",
            "name":"ShadowMap0"
         },
         {
            "type":"Texture2D",
            "name":"ShadowMap3"
         },
         {
            "type":"Texture2D",
            "name":"ShadowMap2"
         },
         {
            "type":"Texture2D",
            "name":"NormalMap",
            "colorSpace":"Linear"
         },
         {
            "type":"Texture2D",
            "name":"BaseColorMap"
         },
         {
            "type":"Texture2D",
            "name":"MetallicMap",
            "colorSpace":"Linear"
         },
         {
            "type":"Texture2D",
            "name":"LightMap"
         },
         {
            "type":"Vector2",
            "name":"FadeInfo"
         },
         {
            "type":"Vector3",
            "name":"LightPos"
         },
         {
            "type":"Vector3",
            "name":"LightDir"
         },
                  {
            "type":"Vector4",
            "name":"Splits"
         },
         {
            "type":"Color",
            "name":"Emissive"
         },
         {
            "type":"Color",
            "name":"BaseColor",
            "value":[1.0, 1.0, 1.0, 1.0]
         },
         {
            "type":"Color",
            "name":"Specular",
            "value":[1.0, 1.0, 1.0, 1.0]
         }
      ],
      "techniques":[
         {
            "name":"PostShadow",
            "fragmentShader":"Common/MatDefs/Shadow/PostShadowPBR.frag",
            "vertexShader":"Common/MatDefs/Shadow/PostShadow.vert",
            "shaderLanguages":[
               "GLSL310", "GLSL300", "GLSL150", "GLSL100"
            ],
            "worldParameters":[
               "WorldViewProjectionMatrix",
               "WorldMatrix",
               "ViewProjectionMatrix",
               "ViewMatrix"
            ],
            "defines":[
               {
                  "name":"BOUND_DRAW_BUFFER",
                  "param":"BoundDrawBuffer"
               },
               {
                  "name":"HARDWARE_SHADOWS",
                  "param":"HardwareShadows"
               },
               {
                  "name":"FILTER_MODE",
                  "param":"FilterMode"
               },
               {
                  "name":"PCFEDGE",
                  "param":"PCFEdge"
               },
               {
                  "name":"DISCARD_ALPHA",
                  "param":"AlphaDiscardThreshold"
               },
               {
                  "name":"SHADOWMAP_SIZE",
                  "param":"ShadowMapSize"
               },
               {
                  "name":"FADE",
                  "param":"FadeInfo"
               },
               {
                  "name":"PSSM",
                  "param":"Splits"
               },
               {
                  "name":"POINTLIGHT",
                  "param":"LightViewProjectionMatrix5"
               },
               {
                  "name":"NUM_BONES",
                  "param":"NumberOfBones"
               },
               {
                  "name":"INSTANCING",
                  "param":"UseInstancing"
               },
               {
                  "name":"BACKFACE_SHADOWS",
                  "param":"BackfaceShadows"
               },
               {
                  "name":"NUM_MORPH_TARGETS",
                  "param":"NumberOfMorphTargets"
               },
               {
                  "name":"NUM_TARGETS_BUFFERS",
                  "param":"NumberOfTargetsBuffers"
               }
            ],
            "forcedRenderState":{
               "blend":"Modulate",
               "depthWrite":false,
               "polyOffset":[
                  -0.1,
                  0.0
               ]
            }
         },
         {
            "name":"PreShadow",
            "fragmentShader":"Common/MatDefs/Shadow/PreShadowPBR.frag",
            "vertexShader":"Common/MatDefs/Shadow/PreShadow.vert",
            "shaderLanguages":[
               "GLSL300", "GLSL150", "GLSL100"
            ],
            "worldParameters":[
               "WorldViewProjectionMatrix",
               "WorldViewMatrix",
               "ViewProjectionMatrix",
               "ViewMatrix"
            ],
            "defines":[
               {
                  "name":"BOUND_DRAW_BUFFER",
                  "param":"BoundDrawBuffer"
               },
               {
                  "name":"DISCARD_ALPHA",
                  "param":"AlphaDiscardThreshold"
               },
               {
                  "name":"NUM_BONES",
                  "param":"NumberOfBones"
               },
               {
                  "name":"INSTANCING",
                  "param":"UseInstancing"
               },
               {
                  "name":"NUM_MORPH_TARGETS",
                  "param":"NumberOfMorphTargets"
               },
               {
                  "name":"NUM_TARGETS_BUFFERS",
                  "param":"NumberOfTargetsBuffers"
               }
            ],
            "forcedRenderState":{
               "faceCull":"Off",
               "colorWrite":false,
               "polyOffset":[
                  5.0,
                  3.0
               ]
            }
         },
         {
            "name":"PreNormalPass",
            "fragmentShader":"Common/MatDefs/SSAO/normal.frag",
            "vertexShader":"Common/MatDefs/SSAO/normal.vert",
            "shaderLanguages":[
               "GLSL300", "GLSL150", "GLSL100"
            ],
            "worldParameters":[
               "WorldViewProjectionMatrix",
               "WorldViewMatrix",
               "NormalMatrix",
               "ViewProjectionMatrix",
               "ViewMatrix"
            ],
            "defines":[
               {
                  "name":"BOUND_DRAW_BUFFER",
                  "param":"BoundDrawBuffer"
               },
               {
                  "name":"BASECOLORMAP_ALPHA",
                  "param":"BaseColorMap"
               },
               {
                  "name":"NUM_BONES",
                  "param":"NumberOfBones"
               },
               {
                  "name":"INSTANCING",
                  "param":"UseInstancing"
               },
               {
                  "name":"NUM_MORPH_TARGETS",
                  "param":"NumberOfMorphTargets"
               },
               {
                  "name":"NUM_TARGETS_BUFFERS",
                  "param":"NumberOfTargetsBuffers"
               }
            ]
         },
         {
            "name":"Glow",
            "fragmentShader":"Common/MatDefs/Light/PBRGlow.frag",
            "vertexShader":"Common/MatDefs/Misc/Unshaded.vert",
            "shaderLanguages":[
               "GLSL300", "GLSL150", "GLSL100"
            ],
            "worldParameters":[
               "WorldViewProjectionMatrix",
               "ViewProjectionMatrix",
               "ViewMatrix"
            ],
            "defines":[
               {
                  "name":"HAS_EMISSIVEMAP",
                  "param":"EmissiveMap"
               },
               {
                  "name":"HAS_EMISSIVECOLOR",
                  "param":"Emissive"
               },
               {
                  "name":"BOUND_DRAW_BUFFER",
                  "param":"BoundDrawBuffer"
               },
               {
                  "name":"NUM_BONES",
                  "param":"NumberOfBones"
               },
               {
                  "name":"INSTANCING",
                  "param":"UseInstancing"
               },
               {
                  "name":"NUM_MORPH_TARGETS",
                  "param":"NumberOfMorphTargets"
               },
               {
                  "name":"NUM_TARGETS_BUFFERS",
                  "param":"NumberOfTargetsBuffers"
               }
            ]
         },
         {
            "name":"Default",
            "fragmentShader":"Common/MatDefs/Light/PBRLighting.frag",
            "vertexShader":"Common/MatDefs/Light/PBRLighting.vert",
            "shaderLanguages":[
               "GLSL300", "GLSL150", "GLSL100"
            ],
            "lightMode":"SinglePassAndImageBased",
            "worldParameters":[
               "WorldViewProjectionMatrix",
               "CameraPosition",
               "WorldMatrix",
               "WorldNormalMatrix",
               "ViewProjectionMatrix",
               "ViewMatrix"
            ],
            "defines":[
               {
                  "name":"BOUND_DRAW_BUFFER",
                  "param":"BoundDrawBuffer"
               },
               {
                  "name":"BASECOLORMAP",
                  "param":"BaseColorMap"
               },
               {
                  "name":"NORMALMAP",
                  "param":"NormalMap"
               },
               {
                  "name":"NORMALSCALE",
                  "param":"NormalScale"
               },
               {
                  "name":"METALLICMAP",
                  "param":"MetallicMap"
               },
               {
                  "name":"ROUGHNESSMAP",
                  "param":"RoughnessMap"
               },
               {
                  "name":"EMISSIVEMAP",
                  "param":"EmissiveMap"
               },
               {
                  "name":"EMISSIVE",
                  "param":"Emissive"
               },
               {
                  "name":"SPECGLOSSPIPELINE",
                  "param":"UseSpecGloss"
               },
               {
                  "name":"PARALLAXMAP",
                  "param":"ParallaxMap"
               },
               {
                  "name":"NORMALMAP_PARALLAX",
                  "param":"PackedNormalParallax"
               },
               {
                  "name":"STEEP_PARALLAX",
                  "param":"SteepParallax"
               },
               {
                  "name":"LIGHTMAP",
                  "param":"LightMap"
               },
               {
                  "name":"SEPARATE_TEXCOORD",
                  "param":"SeparateTexCoord"
               },
               {
                  "name":"DISCARD_ALPHA",
                  "param":"AlphaDiscardThreshold"
               },
               {
                  "name":"NUM_BONES",
                  "param":"NumberOfBones"
               },
               {
                  "name":"INSTANCING",
                  "param":"UseInstancing"
               },
               {
                  "name":"USE_PACKED_MR",
                  "param":"MetallicRoughnessMap"
               },
               {
                  "name":"USE_PACKED_SG",
                  "param":"SpecularGlossinessMap"
               },
               {
                  "name":"SPECULARMAP",
                  "param":"SpecularMap"
               },
               {
                  "name":"SPECULAR_AA",
                  "param":"UseSpecularAA"
               },
               {
                  "name":"SPECULAR_AA_SCREEN_SPACE_VARIANCE",
                  "param":"SpecularAASigma"
               },
               {
                  "name":"SPECULAR_AA_THRESHOLD",
                  "param":"SpecularAAKappa"
               },
               {
                  "name":"GLOSSINESSMAP",
                  "param":"GlossinessMap"
               },
               {
                  "name":"NORMAL_TYPE",
                  "param":"NormalType"
               },
               {
                  "name":"VERTEX_COLOR",
                  "param":"UseVertexColor"
               },
               {
                  "name":"AO_MAP",
                  "param":"LightMapAsAOMap"
               },
               {
                  "name":"AO_PACKED_IN_MR_MAP",
                  "param":"AoPackedInMRMap"
               },
               {
                  "name":"AO_STRENGTH",
                  "param":"AoStrength"
               },
               {
                  "name":"NUM_MORPH_TARGETS",
                  "param":"NumberOfMorphTargets"
               },
               {
                  "name":"NUM_TARGETS_BUFFERS",
                  "param":"NumberOfTargetsBuffers"
               },
               {
                  "name":"HORIZON_FADE",
                  "param":"HorizonFade"
               }
            ]
         }
      ]
   }
}